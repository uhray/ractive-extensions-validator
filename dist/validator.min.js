/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */

/**
 * @license ractive-validator Copyright (c) 2014, Uhray LLC
 * Available via the MIT license.
 * see: http://github.com/uhray for details
 */

!function(){define(["ractive"],function(t){var e,n,r;!function(t){function i(t,e){return w.call(t,e)}function a(t,e){var n,r,i,a,o,s,l,v,c,d,f,u=e&&e.split("/"),p=b.map,h=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),o=t.length-1,b.nodeIdCompat&&_.test(t[o])&&(t[o]=t[o].replace(_,"")),t=u.slice(0,u.length-1).concat(t),c=0;c<t.length;c+=1)if(f=t[c],"."===f)t.splice(c,1),c-=1;else if(".."===f){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((u||h)&&p){for(n=t.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),u)for(d=u.length;d>0;d-=1)if(i=p[u.slice(0,d).join("/")],i&&(i=i[r])){a=i,s=c;break}if(a)break;!l&&h&&h[r]&&(l=h[r],v=c)}!a&&l&&(a=l,s=v),a&&(n.splice(0,s,a),t=n.join("/"))}return t}function o(e,n){return function(){var r=y.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),u.apply(t,r.concat([e,n]))}}function s(t){return function(e){return a(e,t)}}function l(t){return function(e){g[t]=e}}function v(e){if(i(m,e)){var n=m[e];delete m[e],x[e]=!0,f.apply(t,n)}if(!i(g,e)&&!i(x,e))throw new Error("No "+e);return g[e]}function c(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return b&&b.config&&b.config[t]||{}}}var f,u,p,h,g={},m={},b={},x={},w=Object.prototype.hasOwnProperty,y=[].slice,_=/\.js$/;p=function(t,e){var n,r=c(t),i=r[0];return t=r[1],i&&(i=a(i,e),n=v(i)),i?t=n&&n.normalize?n.normalize(t,s(e)):a(t,e):(t=a(t,e),r=c(t),i=r[0],t=r[1],i&&(n=v(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},h={require:function(t){return o(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:d(t)}}},f=function(e,n,r,a){var s,c,d,f,u,b,w=[],y=typeof r;if(a=a||e,"undefined"===y||"function"===y){for(n=!n.length&&r.length?["require","exports","module"]:n,u=0;u<n.length;u+=1)if(f=p(n[u],a),c=f.f,"require"===c)w[u]=h.require(e);else if("exports"===c)w[u]=h.exports(e),b=!0;else if("module"===c)s=w[u]=h.module(e);else if(i(g,c)||i(m,c)||i(x,c))w[u]=v(c);else{if(!f.p)throw new Error(e+" missing "+c);f.p.load(f.n,o(a,!0),l(c),{}),w[u]=g[c]}d=r?r.apply(g[e],w):void 0,e&&(s&&s.exports!==t&&s.exports!==g[e]?g[e]=s.exports:d===t&&b||(g[e]=d))}else e&&(g[e]=r)},e=n=u=function(e,n,r,i,a){if("string"==typeof e)return h[e]?h[e](n):v(p(e,n).f);if(!e.splice){if(b=e,b.deps&&u(b.deps,b.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=i,i=a),i?f(t,e,n,r):setTimeout(function(){f(t,e,n,r)},4),u},u.config=function(t){return u(t)},e._defined=g,r=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),i(g,t)||i(m,t)||(m[t]=[t,e,n])},r.amd={jQuery:!0}}(),r("bower_components/almond/almond",function(){}),r("rv",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),r("rv!lib/template",[],function(){return{v:3,t:[{t:7,e:"div",a:{class:"ractive-validator-container"},f:[{t:7,e:"style",f:[".",{t:2,r:"name"},".ractive-validator {\n      width:",{t:2,r:"width"},"px;\n      top:",{t:2,r:"top"},"px;\n      left:",{t:2,r:"left"},"px;\n    }\n\n    .",{t:2,r:"name"},".ractive-validator .rv-message {\n      min-height: ",{t:2,x:{r:["height"],s:"_0-10"}},"px;\n    }\n",{t:4,f:["      .",{t:2,r:"name"},".ractive-validator .rv-message:after,\n      .",{t:2,r:"name"},".ractive-validator .rv-message:before {\n        top: ",{t:2,x:{r:["height"],s:"_0/2"}},"px;\n      }\n"],n:50,x:{r:["options.orientation"],s:'_0=="left"||_0=="right"'}},"    ",{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator .rv-message {\n        top: ",{t:2,r:"height"},"px;\n      }\n"],n:50,x:{r:["options.orientation"],s:'_0=="bottom"'}},"    .",{t:2,r:"name"},".ractive-validator .rv-alert {\n      top: ",{t:2,x:{r:["height"],s:"_0/2"}},"px;\n      margin-top: -",{t:2,x:{r:["alert.width"],s:"_0/2"}},"px;\n      height: ",{t:2,r:"alert.width"},"px;\n      line-height: ",{t:2,r:"alert.width"},"px;\n      width: ",{t:2,r:"alert.width"},"px;\n    }"]}," ",{t:7,e:"div",a:{class:[{t:2,r:"name"}," ",{t:2,r:"options.class"}," rv-orient-",{t:2,r:"options.orientation"}," ractive-validator"],style:["width:",{t:2,r:"width"},"px;top:",{t:2,r:"top"},"px;left:",{t:2,r:"left"},"px"]},f:[{t:4,f:[{t:7,e:"div",a:{class:"rv-message",style:["display:",{t:2,x:{r:["active"],s:'_0?"block":"none"'}}]},f:[{t:2,r:"message"}]}," ",{t:7,e:"div",a:{class:"rv-alert",style:["display:",{t:2,x:{r:["active"],s:'_0?"none":"block"'}}]},v:{click:"alert-click"},f:["!"]}],n:51,r:"valid"}]}]}]}}),r("css",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),r("css!lib/style",[],function(){}),r("lib/polyfills",[],function(){"document"in self&&("classList"in document.createElement("_")?!function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",r=t.Element[n],i=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},v=function(t){for(var e=a.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=v[n]=[],d=function(){return new v(this)};if(s[n]=Error[n],c.item=function(t){return this[t]||null},c.contains=function(t){return t+="",l(this,t)!==-1},c.add=function(){var t,e=arguments,n=0,r=e.length,i=!1;do t=e[n]+"",l(this,t)===-1&&(this.push(t),i=!0);while(++n<r);i&&this._updateClassName()},c.remove=function(){var t,e,n=arguments,r=0,i=n.length,a=!1;do for(t=n[r]+"",e=l(this,t);e!==-1;)this.splice(e,1),a=!0,e=l(this,t);while(++r<i);a&&this._updateClassName()},c.toggle=function(t,e){t+="";var n=this.contains(t),r=n?e!==!0&&"remove":e!==!1&&"add";return r&&this[r](t),e===!0||e===!1?e:!n},c.toString=function(){return this.join(" ")},i.defineProperty){var f={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(r,e,f)}catch(t){t.number===-2146823252&&(f.enumerable=!1,i.defineProperty(r,e,f))}}else i[n].__defineGetter__&&r.__defineGetter__(e,d)}}(self))}),r("lib/main",["rv!./template","css!./style","./polyfills"],function(e){function n(t,e,n){var r;if("length"in t)for(r=0;r<t.length;r++)e.call(n||this,t[r],r);else for(r in t)e.call(n||this,t[r],r)}function r(){return"rv-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(t,e){var r={};return n(t.attributes,function(t){var n=t.name.match(/^validator-(.*)/),i=t.value,a=n&&n[1];n&&(e[a]&&e[a]&&e[a].options?~e[a].options.indexOf(i)&&(r[a]=i):r[a]=i)}),n(e,function(t,e){e=e.replace(/^_/,""),r.hasOwnProperty(e)||(r[e]=t&&t._default?t._default:t)}),r}var a,o,s;s={_orientation:{_default:"left",options:["top","bottom","left","right"]},_class:""},o=t.extend({el:document.body,append:!0,template:e,data:{orientation:"top"},onrender:function(){function t(){r.set("active",!0)}function e(){r.set("active",!1)}function n(){a.validatorDo(i)}var r=this,i=this.get("element"),a=this.get("parent"),o=i.getBoundingClientRect();this.set({width:o.width,top:i.offsetTop,left:i.offsetLeft,height:o.height,alert:{width:Math.min(o.height-4,23)}}),this.observe("valid",function(t){var e=i.parentElement;t?(i.classList.remove("validator-invalid"),e&&e.classList&&e.classList.remove("validator-child-invalid")):(i.classList.add("validator-invalid"),e&&e.classList&&e.classList.add("validator-child-invalid"))}),i.addEventListener("focus",t),i.addEventListener("blur",e),i.addEventListener("keyup",n),i.addEventListener("change",n),this.on("alert-click",function(){i&&i.focus&&i.focus()}),this.on("teardown",function(){i.removeEventListener("focus",t),i.removeEventListener("blur",e),i.removeEventListener("keyup",n),i.removeEventListener("change",n)})}}),t.events.validatorSuccess=function(t,e){var n=this;t._fireValidatorSuccess=function(r,i){e({node:t,name:"validator",target:n,original:r})}},t.events.validatorFailure=function(t,e){var n=this;t._fireValidatorFailure=function(r,i){e({node:t,name:"validator-failure",target:n,original:r})}},a=t.extend({onrender:function(t){this._super(t),this.on("validator",function(t){var e=t.node,r=e.querySelectorAll("*[validator]"),i=!0;n(r,function(t){var e=this.validatorDo(t);i=!!i&&e},this),i?(this.fire("validator-clear",e),e&&e._fireValidatorSuccess&&e._fireValidatorSuccess(t.original),this.fire("validatorSuccess",t.original)):(e&&e._fireValidatorFailure&&e._fireValidatorFailure(t.original),this.fire("validatorFailure",t.original))}),this.on("validator-clear",function(t){var e=t.querySelectorAll("*[validator]"),r=this.validatorDivs;n(e,function(t){var e=t._validatorError,n=r.indexOf(e);e&&e.teardown(),t&&t._validatorError&&delete t._validatorError,~n&&r.slice(n,1),t&&t.classList&&t.classList.remove("validator-error")})}),this.on("teardown",function(){this.validatorDivs.forEach(function(t){var e=t.get("element");e&&e._validatorError&&delete e._validatorError,t.teardown(),e&&e.classList&&e.classList.remove("validator-error")}),this.set("validatorDivs",[])})},validators:{string:function(t,e,n){var r,e=void 0===e?0:e,n=void 0===n?1/0:n,i=(String(t),void 0!==t&&(t.length>=e&&t.length<=n));return r=n==1/0?"Value must be at least "+e+" characters.":e==-(1/0)?"Value cannot be more than "+n+" characters.":"Value must be between "+e+" and "+n+" characters.",{value:String(t),valid:i,message:r}},required:function(t){var e=String(t);return{value:t,valid:!!e,message:"Value is required."}},email:function(t){var e=String(t),n=/^([\w\-\.\+]+)@((\[([0-9]{1,3}\.){3}[0-9]{1,3}\])|(([\w\-]+\.)+)([a-zA-Z]{2,4}))$/;return{value:t,valid:n.test(e),message:"Not a valid email."}},checked:function(){return{value:this.value,valid:this.checked,message:"Must be checked"}},url:function(t,e,n){var r=String(t),i=new RegExp("^((http|https|ftp)://)?[a-zA-Z0-9-.]+.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9-._?,'/\\+&amp;%$#=~])*$"),a=new RegExp("((http|https|ftp)(://)?)$"),o=i.test(r)&&r.match(/\.[a-z]/i),s=a.test(r);return r?(e&&o&&!s&&!r.match(new RegExp("^(http|https|ftp)://"))&&(r="http://"+r),{value:r,valid:o&&!s,message:"Not a valid url."}):{value:r,valid:!n,message:"URL required."}},pattern:function(t,e){var n=String(t),r=new RegExp(e);return{value:t,valid:r.test(n),message:"Not a valid url."}},samevalue:function(t,e){var n=document.querySelector(e||"");return n?{value:t,valid:t==n.value,message:"Values must match"}:{value:t,valid:!1,message:"Match not found."}}},validatorDivs:[],validatorDo:function(t){var e,n,r,i=t.value,a=(t&&t.getAttribute("validator")||"").split(","),o=a.shift(),s=this.validators[o];return s?(a.unshift(i),n=s.apply(t,a),n.valid&&t.value!=n.value&&(t.value=n.value,"createEvent"in document?(r=document.createEvent("HTMLEvents"),r.initEvent("input",!1,!0),t.dispatchEvent(r)):t.fireEvent("oninput")),e=t&&t.getAttribute("validator-message")||n.message||"Invalid value: "+o,this.validatorCreateDiv(t,e,n.valid),n.valid):console.warn("no validator found: %s",o)},validatorCreateDiv:function(t,e,n){var a,l=t._validatorError;return l?(l.set("valid",n),void l.set("message",e)):(a=i(t,s),l=t._validatorError=new o({el:a.parent&&document.querySelector(a.parent)||t.parentElement||document.body,data:{name:r(),element:t,valid:n,message:e,parent:this,options:i(t,s)}}),void this.validatorDivs.push(l))}}),t.prototype=a.prototype}),function(t){var e=document,n="appendChild",r="styleSheet",i=e.createElement("style");i.type="text/css",e.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=t:i[n](e.createTextNode(t))}('.ractive-validator {\n  position: absolute;\n  height: 0;\n  font-family: sans-serif;\n}\n\n.ractive-validator .rv-message {\n  position: absolute;\n  padding: 5px;\n  border: solid 1px #8B0300;\n  background: #B94A48;\n  color: #FFF;\n  font-size: 12px;\n  font-weight: bold;\n  text-align: left;\n}\n\n.ractive-validator .rv-message:after,\n.ractive-validator .rv-message:before {\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.ractive-validator .rv-message:after {\n  border-color: rgba(185, 74, 72, 0);\n  border-width: 8px;\n}\n.ractive-validator .rv-message:before {\n  border-color: rgba(139, 3, 0, 0);\n  border-width: 9px;\n}\n\n/* Orient Left */\n\n.ractive-validator.rv-orient-left .rv-message {\n  top: 0;\n  right: 100%;\n  width: 150px;\n  margin-right: 20px;\n}\n\n.ractive-validator.rv-orient-left .rv-message:after,\n.ractive-validator.rv-orient-left .rv-message:before {\n  left: 100%;\n}\n\n.ractive-validator.rv-orient-left .rv-message:after {\n  border-left-color: #B94A48;\n  margin-top: -8px;\n}\n.ractive-validator.rv-orient-left .rv-message:before {\n  border-left-color: #8b0300;\n  margin-top: -9px;\n}\n\n/* Orient Bottom */\n\n.ractive-validator.rv-orient-bottom .rv-message {\n  left: 0px;\n  width: 150px;\n  margin-top: 10px;\n}\n\n.ractive-validator.rv-orient-bottom .rv-message:after,\n.ractive-validator.rv-orient-bottom .rv-message:before {\n  bottom: 100%;\n  left: 15px;\n}\n\n.ractive-validator.rv-orient-bottom .rv-message:after {\n  border-bottom-color: #B94A48;\n  margin-left: -8px;\n}\n.ractive-validator.rv-orient-bottom .rv-message:before {\n  border-bottom-color: #8b0300;\n  margin-left: -9px;\n}\n\n/* Orient Top */\n\n.ractive-validator.rv-orient-top .rv-message {\n  top: -10px;\n  left: 0px;\n  transform: translateY(-100%);\n  width: 150px;\n}\n\n.ractive-validator.rv-orient-top .rv-message:after,\n.ractive-validator.rv-orient-top .rv-message:before {\n  top: 100%;\n  left: 15px;\n}\n\n.ractive-validator.rv-orient-top .rv-message:after {\n  border-top-color: #B94A48;\n  margin-left: -8px;\n}\n.ractive-validator.rv-orient-top .rv-message:before {\n  border-top-color: #8b0300;\n  margin-left: -9px;\n}\n\n/* Orient Right */\n\n.ractive-validator.rv-orient-right .rv-message {\n  top: 0;\n  left: 100%;\n  width: 150px;\n  margin-left: 20px;\n}\n\n.ractive-validator.rv-orient-right .rv-message:after,\n.ractive-validator.rv-orient-right .rv-message:before {\n  right: 100%;\n}\n\n.ractive-validator.rv-orient-right .rv-message:after {\n  border-right-color: #B94A48;\n  margin-top: -8px;\n}\n.ractive-validator.rv-orient-right .rv-message:before {\n  border-right-color: #8b0300;\n  margin-top: -9px;\n}\n\n/* Alert */\n\n.ractive-validator .rv-alert {\n  position: absolute;\n  right: 5px;\n  border-radius: 50%;\n  background: #B94A48;\n  text-align: center;\n  color: #FFF;\n  vertical-align: middle;\n  font-size: 15px;\n  font-family: sans-serif;\n  font-weight: bold;\n}\n'),n("lib/main")})}();