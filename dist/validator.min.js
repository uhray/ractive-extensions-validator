/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */

/**
 * @license ractive-validator Copyright (c) 2014, Uhray LLC
 * Available via the MIT license.
 * see: http://github.com/uhray for details
 */

!function(){define(["ractive"],function(t){var e,i,n;!function(t){function r(t,e){return w.call(t,e)}function a(t,e){var i,n,r,a,o,s,l,c,u,d,f,v,p=e&&e.split("/"),h=x.map,m=h&&h["*"]||{};if(t){for(t=t.split("/"),o=t.length-1,x.nodeIdCompat&&b.test(t[o])&&(t[o]=t[o].replace(b,"")),"."===t[0].charAt(0)&&p&&(v=p.slice(0,p.length-1),t=v.concat(t)),u=0;u<t.length;u++)if("."===(f=t[u]))t.splice(u,1),u-=1;else if(".."===f){if(0===u||1===u&&".."===t[2]||".."===t[u-1])continue;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}if((p||m)&&h){for(i=t.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),p)for(d=p.length;d>0;d-=1)if((r=h[p.slice(0,d).join("/")])&&(r=r[n])){a=r,s=u;break}if(a)break;!l&&m&&m[n]&&(l=m[n],c=u)}!a&&l&&(a=l,s=c),a&&(i.splice(0,s,a),t=i.join("/"))}return t}function o(e,i){return function(){var n=E.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(t,n.concat([e,i]))}}function s(t){return function(e){return a(e,t)}}function l(t){return function(e){g[t]=e}}function c(e){if(r(_,e)){var i=_[e];delete _[e],y[e]=!0,v.apply(t,i)}if(!r(g,e)&&!r(y,e))throw new Error("No "+e);return g[e]}function u(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function d(t){return t?u(t):[]}function f(t){return function(){return x&&x.config&&x.config[t]||{}}}var v,p,h,m,g={},_={},x={},y={},w=Object.prototype.hasOwnProperty,E=[].slice,b=/\.js$/;h=function(t,e){var i,n=u(t),r=n[0],o=e[1];return t=n[1],r&&(r=a(r,o),i=c(r)),r?t=i&&i.normalize?i.normalize(t,s(o)):a(t,o):(t=a(t,o),n=u(t),r=n[0],t=n[1],r&&(i=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:i}},m={require:function(t){return o(t)},exports:function(t){var e=g[t];return void 0!==e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:f(t)}}},v=function(e,i,n,a){var s,u,f,v,p,x,w,E=[],b=typeof n;if(a=a||e,x=d(a),"undefined"===b||"function"===b){for(i=!i.length&&n.length?["require","exports","module"]:i,p=0;p<i.length;p+=1)if(v=h(i[p],x),"require"===(u=v.f))E[p]=m.require(e);else if("exports"===u)E[p]=m.exports(e),w=!0;else if("module"===u)s=E[p]=m.module(e);else if(r(g,u)||r(_,u)||r(y,u))E[p]=c(u);else{if(!v.p)throw new Error(e+" missing "+u);v.p.load(v.n,o(a,!0),l(u),{}),E[p]=g[u]}f=n?n.apply(g[e],E):void 0,e&&(s&&s.exports!==t&&s.exports!==g[e]?g[e]=s.exports:f===t&&w||(g[e]=f))}else e&&(g[e]=n)},e=i=p=function(e,i,n,r,a){if("string"==typeof e)return m[e]?m[e](i):c(h(e,d(i)).f);if(!e.splice){if(x=e,x.deps&&p(x.deps,x.callback),!i)return;i.splice?(e=i,i=n,n=null):e=t}return i=i||function(){},"function"==typeof n&&(n=r,r=a),r?v(t,e,i,n):setTimeout(function(){v(t,e,i,n)},4),p},p.config=function(t){return p(t)},e._defined=g,n=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),r(g,t)||r(_,t)||(_[t]=[t,e,i])},n.amd={jQuery:!0}}(),n("bower_components/almond/almond",function(){}),n("rv",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),n("rv!lib/template",[],function(){return{v:3,t:[{t:7,e:"div",a:{class:"ractive-validator-container"},f:[{t:7,e:"style",f:[{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator {\n        width:",{t:2,r:"width"},"px;\n        top:",{t:2,r:"top"},"px;\n        left:",{t:2,r:"left"},"px;\n      }\n\n      .",{t:2,r:"name"},".ractive-validator .rv-message {\n        min-height: ",{t:2,x:{r:["height"],s:"_0-10"}},"px;\n      }\n"],n:50,x:{r:["orientation"],s:'_0!="inline"'}},"    ",{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator .rv-message:after,\n      .",{t:2,r:"name"},".ractive-validator .rv-message:before {\n        top: ",{t:2,x:{r:["height"],s:"_0/2"}},"px;\n      }\n"],n:50,x:{r:["options.orientation"],s:'_0=="left"||_0=="right"'}},"    ",{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator .rv-message {\n        top: ",{t:2,r:"height"},"px;\n      }\n"],n:50,x:{r:["options.orientation"],s:'_0=="bottom"'}},"    ",{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator .rv-alert {\n        top: ",{t:2,x:{r:["height"],s:"_0/2"}},"px;\n        margin-top: -",{t:2,x:{r:["alert.width"],s:"_0/2"}},"px;\n        height: ",{t:2,r:"alert.width"},"px;\n        line-height: ",{t:2,r:"alert.width"},"px;\n        width: ",{t:2,r:"alert.width"},"px;\n      }\n"],n:50,x:{r:["orientation"],s:'_0!="inline"'}}]}," ",{t:4,f:[{t:7,e:"div",a:{class:[{t:2,r:"name"}," ",{t:2,r:"options.class"}," rv-orient-",{t:2,r:"options.orientation"}," ractive-validator"]},f:[{t:4,f:[{t:7,e:"div",a:{class:"clearfix"}}," ",{t:7,e:"div",a:{class:"rv-message"},f:[{t:2,r:"message"}]}," ",{t:7,e:"div",a:{class:"rv-alert"},v:{click:"alert-click"},f:["!"]}],n:51,r:"valid"}]}],n:50,x:{r:["orientation"],s:'_0=="inline"'}},{t:4,n:51,f:[{t:7,e:"div",a:{class:[{t:2,r:"name"}," ",{t:2,r:"options.class"}," rv-orient-",{t:2,r:"options.orientation"}," ractive-validator"],style:["width:",{t:2,r:"width"},"px;top:",{t:2,r:"top"},"px;left:",{t:2,r:"left"},"px"]},f:[{t:4,f:[{t:7,e:"div",a:{class:"rv-message",style:["display:",{t:2,x:{r:["active"],s:'_0?"block":"none"'}}]},f:[{t:2,r:"message"}]}," ",{t:7,e:"div",a:{class:"rv-alert",style:["display:",{t:2,x:{r:["active"],s:'_0?"none":"block"'}}]},v:{click:"alert-click"},f:["!"]}],n:51,r:"valid"}]}],x:{r:["orientation"],s:'_0=="inline"'}}]}]}}),n("lib/polyfills",[],function(){"document"in self&&("classList"in document.createElement("_")?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e="classList",i="prototype",n=t.Element[i],r=Object,a=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},c=function(t){for(var e=a.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,r=i.length;n<r;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],d=function(){return new c(this)};if(s[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,i=0,n=e.length,r=!1;do{t=e[i]+"",-1===l(this,t)&&(this.push(t),r=!0)}while(++i<n);r&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,r=i.length,a=!1;do{for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),a=!0,e=l(this,t)}while(++n<r);a&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},r.defineProperty){var f={get:d,enumerable:!0,configurable:!0};try{r.defineProperty(n,e,f)}catch(t){-2146823252===t.number&&(f.enumerable=!1,r.defineProperty(n,e,f))}}else r[i].__defineGetter__&&n.__defineGetter__(e,d)}}(self))}),n("lib/main",["rv!./template","./polyfills"],function(e){function i(t,e,i){var n;if("length"in t)for(n=0;n<t.length;n++)e.call(i||this,t[n],n);else for(n in t)e.call(i||this,t[n],n)}function n(){return"rv-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(t,e){var n={};return i(t.attributes,function(t){var i=t.name.match(/^validator-(.*)/),r=t.value,a=i&&i[1];i&&(e[a]&&e[a]&&e[a].options?~e[a].options.indexOf(r)&&(n[a]=r):n[a]=r)}),i(e,function(t,e){e=e.replace(/^_/,""),n.hasOwnProperty(e)||(n[e]=t&&t._default?t._default:t)}),n}var a,o,s;s={_orientation:{_default:"inline",options:["top","bottom","left","right","inline","semantic"]},_insertMode:{_default:"insert",options:["insert","append"]},_styleMode:{_default:"",options:["semantic"]},_class:""},o=t.extend({el:document.body,append:!0,template:e,data:{orientation:"top"},onrender:function(){function t(){n.set("active",!0)}function e(){n.set("active",!1)}function i(){a.validatorDo(r)}var n=this,r=this.get("element"),a=this.get("parent"),o=r.getBoundingClientRect();"inline"!=this.get("orientation")&&this.set({width:o.width,top:r.offsetTop,left:r.offsetLeft,height:o.height,alert:{width:Math.min(o.height-4,23)}}),this.observe("valid",function(t){var e=r.parentElement;t?(r.classList.remove("validator-invalid"),e&&e.classList&&e.classList.remove("validator-child-invalid"),"semantic"==this.get("styleMode")&&$(r).parents(".field").removeClass("error")):(r.classList.add("validator-invalid"),e&&e.classList&&e.classList.add("validator-child-invalid"),e&&e.classList&&e.classList.add("validator-parent-orient-"+this.get("orientation")),"semantic"==this.get("styleMode")&&$(r).parents(".field").addClass("error"))}),r.addEventListener("focus",t),r.addEventListener("blur",e),r.addEventListener("keyup",i),r.addEventListener("change",i),this.on("alert-click",function(){r&&r.focus&&r.focus()}),this.on("teardown",function(){r.removeEventListener("focus",t),r.removeEventListener("blur",e),r.removeEventListener("keyup",i),r.removeEventListener("change",i)})}}),t.events.validatorSuccess=function(t,e){var i=this;t._fireValidatorSuccess=function(n,r){e({node:t,name:"validator",target:i,original:n})}},t.events.validatorFailure=function(t,e){var i=this;t._fireValidatorFailure=function(n,r){e({node:t,name:"validator-failure",target:i,original:n})}},a=t.extend({onrender:function(t){this._super(t),this.on("validator",function(t){var e=t.node,n=e.querySelectorAll("*[validator]"),r=!0;i(n,function(t){var e=this.validatorDo(t);r=!!r&&e},this),r?(this.fire("validator-clear",e),e&&e._fireValidatorSuccess&&e._fireValidatorSuccess(t.original),this.fire("validatorSuccess",t.original)):(e&&e._fireValidatorFailure&&e._fireValidatorFailure(t.original),this.fire("validatorFailure",t.original))}),this.on("validator-clear",function(t){var e=t.querySelectorAll("*[validator]"),n=this.validatorDivs;i(e,function(t){var e=t._validatorError,i=n.indexOf(e);e&&e.teardown(),t&&t._validatorError&&delete t._validatorError,~i&&n.slice(i,1),t&&t.classList&&t.classList.remove("validator-error")})}),this.on("teardown",function(){this.validatorDivs.forEach(function(t){var e=t.get("element");e&&e._validatorError&&delete e._validatorError,t.teardown(),e&&e.classList&&e.classList.remove("validator-error")}),this.set("validatorDivs",[])})},validators:{string:function(t,e,i){var n,e=void 0===e?0:e,i=void 0===i?1/0:i,r=(String(t),void 0!==t&&(t.length>=e&&t.length<=i));return n=i==1/0?"Value must be at least "+e+" characters.":e==-1/0?"Value cannot be more than "+i+" characters.":"Value must be between "+e+" and "+i+" characters.",{value:String(t),valid:r,message:n}},required:function(t){return{value:t,valid:!!String(t),message:"Value is required."}},email:function(t){return{value:t,valid:/^([\w\-\.\+]+)@((\[([0-9]{1,3}\.){3}[0-9]{1,3}\])|(([\w\-]+\.)+)([a-zA-Z]{2,15}))$/.test(String(t)),message:"Not a valid email."}},checked:function(){return{value:this.value,valid:this.checked,message:"Must be checked"}},url:function(t,e,i){var n=String(t),r=new RegExp("^((http|https|ftp)://)?[a-zA-Z0-9-.]+.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9-._?,'/\\+&amp;%$#=~])*$"),a=new RegExp("((http|https|ftp)(://)?)$"),o=r.test(n)&&n.match(/\.[a-z]/i),s=a.test(n);return n?(e&&o&&!s&&!n.match(new RegExp("^(http|https|ftp)://"))&&(n="http://"+n),{value:n,valid:o&&!s,message:"Not a valid url."}):{value:n,valid:!i,message:"URL required."}},pattern:function(t,e){var i=String(t);return{value:t,valid:new RegExp(e).test(i),message:"Not a valid input."}},samevalue:function(t,e){var i=document.querySelector(e||"");return i?{value:t,valid:t==i.value,message:"Values must match."}:{value:t,valid:!1,message:"Match not found."}}},validatorDivs:[],validatorDo:function(t){var e,i,n,r=t.value,a=(t&&t.getAttribute("validator")||"").split(","),o=a.shift(),s=this.validators[o];return s?(a.unshift(r),i=s.apply(t,a),i.valid&&t.value!=i.value&&(t.value=i.value,"createEvent"in document?(n=document.createEvent("HTMLEvents"),n.initEvent("input",!1,!0),t.dispatchEvent(n)):t.fireEvent("oninput")),e=t&&t.getAttribute("validator-message")||i.message||"Invalid value: "+o,this.validatorCreateDiv(t,e,i.valid),i.valid):console.warn("no validator found: %s",o)},validatorCreateDiv:function(t,e,i){var a,l,c,u=t._validatorError;if(u)return u.set("valid",i),void u.set("message",e);c=r(t,s),a=c.parent&&document.querySelector(c.parent)||t.parentElement||document.body,"append"==c.insertMode?(l=document.createElement("div"),l.classList.add("rv-parent-append"),a.parentNode.insertBefore(l,a.nextSibling)):l=a,u=t._validatorError=new o({el:l,data:{name:n(),element:t,valid:i,message:e,parent:this,orientation:c.orientation,styleMode:c.styleMode,options:c}}),this.validatorDivs.push(u)},validatorDefaultOptions:function(t){function e(t,e){s[t]&&"_default"in s[t]?s[t]._default=e:s[t]=e}return i(t||{},function(t,i){i="_"+i,s[i]&&s[i]&&s[i].options?~s[i].options.indexOf(t)&&e(i,t):e(i,t)}),s}}),t.prototype=a.prototype}),i("lib/main")})}();