/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */

/**
 * @license ractive-validator Copyright (c) 2014, Uhray LLC
 * Available via the MIT license.
 * see: http://github.com/uhray for details
 */

!function(){define(["ractive"],function(t){var e,n,i;!function(t){function r(t,e){return b.call(t,e)}function a(t,e){var n,i,r,a,o,s,l,c,u,f,d,v,p=e&&e.split("/"),h=x.map,m=h&&h["*"]||{};if(t){for(t=t.split("/"),o=t.length-1,x.nodeIdCompat&&E.test(t[o])&&(t[o]=t[o].replace(E,"")),"."===t[0].charAt(0)&&p&&(v=p.slice(0,p.length-1),t=v.concat(t)),u=0;u<t.length;u++)if("."===(d=t[u]))t.splice(u,1),u-=1;else if(".."===d){if(0===u||1===u&&".."===t[2]||".."===t[u-1])continue;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}if((p||m)&&h){for(n=t.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),p)for(f=p.length;f>0;f-=1)if((r=h[p.slice(0,f).join("/")])&&(r=r[i])){a=r,s=u;break}if(a)break;!l&&m&&m[i]&&(l=m[i],c=u)}!a&&l&&(a=l,s=c),a&&(n.splice(0,s,a),t=n.join("/"))}return t}function o(e,n){return function(){var i=w.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(t,i.concat([e,n]))}}function s(t){return function(e){return a(e,t)}}function l(t){return function(e){g[t]=e}}function c(e){if(r(_,e)){var n=_[e];delete _[e],y[e]=!0,v.apply(t,n)}if(!r(g,e)&&!r(y,e))throw new Error("No "+e);return g[e]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function f(t){return t?u(t):[]}function d(t){return function(){return x&&x.config&&x.config[t]||{}}}var v,p,h,m,g={},_={},x={},y={},b=Object.prototype.hasOwnProperty,w=[].slice,E=/\.js$/;h=function(t,e){var n,i=u(t),r=i[0],o=e[1];return t=i[1],r&&(r=a(r,o),n=c(r)),r?t=n&&n.normalize?n.normalize(t,s(o)):a(t,o):(t=a(t,o),i=u(t),r=i[0],t=i[1],r&&(n=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},m={require:function(t){return o(t)},exports:function(t){var e=g[t];return void 0!==e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:d(t)}}},v=function(e,n,i,a){var s,u,d,v,p,x,b,w=[],E=typeof i;if(a=a||e,x=f(a),"undefined"===E||"function"===E){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(v=h(n[p],x),"require"===(u=v.f))w[p]=m.require(e);else if("exports"===u)w[p]=m.exports(e),b=!0;else if("module"===u)s=w[p]=m.module(e);else if(r(g,u)||r(_,u)||r(y,u))w[p]=c(u);else{if(!v.p)throw new Error(e+" missing "+u);v.p.load(v.n,o(a,!0),l(u),{}),w[p]=g[u]}d=i?i.apply(g[e],w):void 0,e&&(s&&s.exports!==t&&s.exports!==g[e]?g[e]=s.exports:d===t&&b||(g[e]=d))}else e&&(g[e]=i)},e=n=p=function(e,n,i,r,a){if("string"==typeof e)return m[e]?m[e](n):c(h(e,f(n)).f);if(!e.splice){if(x=e,x.deps&&p(x.deps,x.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=r,r=a),r?v(t,e,n,i):setTimeout(function(){v(t,e,n,i)},4),p},p.config=function(t){return p(t)},e._defined=g,i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),r(g,t)||r(_,t)||(_[t]=[t,e,n])},i.amd={jQuery:!0}}(),i("bower_components/almond/almond",function(){}),i("rv",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),i("rv!lib/template",[],function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"ractive-validator-container",t:13}],f:[{t:7,e:"style",f:[{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator {\n        width:",{t:2,r:"width"},"px;\n        top:",{t:2,r:"top"},"px;\n        left:",{t:2,r:"left"},"px;\n      }\n\n      .",{t:2,r:"name"},".ractive-validator .rv-message {\n        min-height: ",{t:2,x:{r:["height"],s:"_0-10"}},"px;\n      }\n"],n:50,x:{r:["orientation"],s:'_0!="inline"'}},"    ",{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator .rv-message:after,\n      .",{t:2,r:"name"},".ractive-validator .rv-message:before {\n        top: ",{t:2,x:{r:["height"],s:"_0/2"}},"px;\n      }\n"],n:50,x:{r:["options.orientation"],s:'_0=="left"||_0=="right"'}},"    ",{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator .rv-message {\n        top: ",{t:2,r:"height"},"px;\n      }\n"],n:50,x:{r:["options.orientation"],s:'_0=="bottom"'}},"    ",{t:4,f:["\n      .",{t:2,r:"name"},".ractive-validator .rv-alert {\n        top: ",{t:2,x:{r:["height"],s:"_0/2"}},"px;\n        margin-top: -",{t:2,x:{r:["alert.width"],s:"_0/2"}},"px;\n        height: ",{t:2,r:"alert.width"},"px;\n        line-height: ",{t:2,r:"alert.width"},"px;\n        width: ",{t:2,r:"alert.width"},"px;\n      }\n"],n:50,x:{r:["orientation"],s:'_0!="inline"'}}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:[{t:2,r:"name"}," ",{t:2,r:"options.class"}," rv-orient-",{t:2,r:"options.orientation"}," ractive-validator"],t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"clearfix",t:13}]}," ",{t:7,e:"div",m:[{n:"class",f:"rv-message",t:13}],f:[{t:2,r:"message"}]}," ",{t:7,e:"div",m:[{n:"class",f:"rv-alert",t:13},{n:"click",f:"alert-click",t:70}],f:["!"]}],n:51,r:"valid"}]}],n:50,x:{r:["orientation"],s:'_0=="inline"'}},{t:4,n:51,f:[{t:7,e:"div",m:[{n:"class",f:[{t:2,r:"name"}," ",{t:2,r:"options.class"}," rv-orient-",{t:2,r:"options.orientation"}," ractive-validator"],t:13},{n:"style",f:["width:",{t:2,r:"width"},"px;top:",{t:2,r:"top"},"px;left:",{t:2,r:"left"},"px"],t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"rv-message",t:13},{n:"style",f:["display:",{t:2,x:{r:["active"],s:'_0?"block":"none"'}}],t:13}],f:[{t:2,r:"message"}]}," ",{t:7,e:"div",m:[{n:"class",f:"rv-alert",t:13},{n:"style",f:["display:",{t:2,x:{r:["active"],s:'_0?"none":"block"'}}],t:13},{n:"click",f:"alert-click",t:70}],f:["!"]}],n:51,r:"valid"}]}],l:1}]}],e:{"_0-10":function(t){return t-10},'_0!="inline"':function(t){return"inline"!=t},"_0/2":function(t){return t/2},'_0=="left"||_0=="right"':function(t){return"left"==t||"right"==t},'_0=="bottom"':function(t){return"bottom"==t},'_0=="inline"':function(t){return"inline"==t},'_0?"block":"none"':function(t){return t?"block":"none"},'_0?"none":"block"':function(t){return t?"none":"block"}}}}),i("lib/polyfills",[],function(){"document"in self&&("classList"in document.createElement("_")?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;n<i;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],r=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},c=function(t){for(var e=a.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[n]=[],f=function(){return new c(this)};if(s[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,n=0,i=e.length,r=!1;do{t=e[n]+"",-1===l(this,t)&&(this.push(t),r=!0)}while(++n<i);r&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,r=n.length,a=!1;do{for(t=n[i]+"",e=l(this,t);-1!==e;)this.splice(e,1),a=!0,e=l(this,t)}while(++i<r);a&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},r.defineProperty){var d={get:f,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,d)}catch(t){-2146823252===t.number&&(d.enumerable=!1,r.defineProperty(i,e,d))}}else r[n].__defineGetter__&&i.__defineGetter__(e,f)}}(self))}),i("lib/main",["rv!./template","./polyfills"],function(e){function n(t,e,n){var i;if("length"in t)for(i=0;i<t.length;i++)e.call(n||this,t[i],i);else for(i in t)e.call(n||this,t[i],i)}function i(){return"rv-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(t,e){var i={};return n(t.attributes,function(t){var n=t.name.match(/^validator-(.*)/),r=t.value,a=n&&n[1];n&&(e[a]&&e[a]&&e[a].options?~e[a].options.indexOf(r)&&(i[a]=r):i[a]=r)}),n(e,function(t,e){e=e.replace(/^_/,""),i.hasOwnProperty(e)||(i[e]=t&&t._default?t._default:t)}),i}var a,o,s;s={_orientation:{_default:"inline",options:["top","bottom","left","right","inline","semantic"]},_insertMode:{_default:"insert",options:["insert","append"]},_styleMode:{_default:"",options:["semantic"]},_class:""},o=t.extend({el:document.body,append:!0,template:e,data:{orientation:"top"},onrender:function(){function t(){i.set("active",!0)}function e(){i.set("active",!1)}function n(){a.validatorDo(r)}var i=this,r=this.get("element"),a=this.get("parent"),o=r.getBoundingClientRect();"inline"!=this.get("orientation")&&this.set({width:o.width,top:r.offsetTop,left:r.offsetLeft,height:o.height,alert:{width:Math.min(o.height-4,23)}}),this.observe("valid",function(t){var e=r.parentElement;t?(r.classList.remove("validator-invalid"),e&&e.classList&&e.classList.remove("validator-child-invalid"),"semantic"==this.get("styleMode")&&$(r).parents(".field").removeClass("error")):(r.classList.add("validator-invalid"),e&&e.classList&&e.classList.add("validator-child-invalid"),e&&e.classList&&e.classList.add("validator-parent-orient-"+this.get("orientation")),"semantic"==this.get("styleMode")&&$(r).parents(".field").addClass("error"))}),r.addEventListener("focus",t),r.addEventListener("blur",e),r.addEventListener("keyup",n),r.addEventListener("change",n),this.on("alert-click",function(){r&&r.focus&&r.focus()}),this.on("teardown",function(){r.removeEventListener("focus",t),r.removeEventListener("blur",e),r.removeEventListener("keyup",n),r.removeEventListener("change",n)})}}),t.events.validatorSuccess=function(t,e){var n=this;t._fireValidatorSuccess=function(i,r){e({node:t,name:"validator",target:n,original:i})}},t.events.validatorFailure=function(t,e){var n=this;t._fireValidatorFailure=function(i,r){e({node:t,name:"validator-failure",target:n,original:i})}},a=t.extend({onrender:function(t){this._super(t),this.on("validator",function(t){var e=t.node,i=e.querySelectorAll("*[validator]"),r=!0;n(i,function(t){var e=this.validatorDo(t);r=!!r&&e},this),r?(this.fire("validator-clear",e),e&&e._fireValidatorSuccess&&e._fireValidatorSuccess(t.original),this.fire("validatorSuccess",t.original)):(e&&e._fireValidatorFailure&&e._fireValidatorFailure(t.original),this.fire("validatorFailure",t.original))}),this.on("validator-clear",function(t){var e=t.querySelectorAll("*[validator]"),i=this.validatorDivs;n(e,function(t){var e=t._validatorError,n=i.indexOf(e);e&&e.teardown(),t&&t._validatorError&&delete t._validatorError,~n&&i.slice(n,1),t&&t.classList&&t.classList.remove("validator-error")})}),this.on("teardown",function(){this.validatorDivs.forEach(function(t){var e=t.get("element");e&&e._validatorError&&delete e._validatorError,t.teardown(),e&&e.classList&&e.classList.remove("validator-error")}),this.set("validatorDivs",[])})},validators:{string:function(t,e,n){var i,e=void 0===e?0:e,n=void 0===n?1/0:n,r=(String(t),void 0!==t&&(t.length>=e&&t.length<=n));return i=n==1/0?"Value must be at least "+e+" characters.":e==-1/0?"Value cannot be more than "+n+" characters.":"Value must be between "+e+" and "+n+" characters.",{value:String(t),valid:r,message:i}},required:function(t){return{value:t,valid:!!String(t),message:"Value is required."}},email:function(t){return{value:t,valid:/^([\w\-\.\+]+)@((\[([0-9]{1,3}\.){3}[0-9]{1,3}\])|(([\w\-]+\.)+)([a-zA-Z]{2,4}))$/.test(String(t)),message:"Not a valid email."}},checked:function(){return{value:this.value,valid:this.checked,message:"Must be checked"}},url:function(t,e,n){var i=String(t),r=new RegExp("^((http|https|ftp)://)?[a-zA-Z0-9-.]+.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9-._?,'/\\+&amp;%$#=~])*$"),a=new RegExp("((http|https|ftp)(://)?)$"),o=r.test(i)&&i.match(/\.[a-z]/i),s=a.test(i);return i?(e&&o&&!s&&!i.match(new RegExp("^(http|https|ftp)://"))&&(i="http://"+i),{value:i,valid:o&&!s,message:"Not a valid url."}):{value:i,valid:!n,message:"URL required."}},pattern:function(t,e){var n=String(t);return{value:t,valid:new RegExp(e).test(n),message:"Not a valid input."}},samevalue:function(t,e){var n=document.querySelector(e||"");return n?{value:t,valid:t==n.value,message:"Values must match."}:{value:t,valid:!1,message:"Match not found."}}},validatorDivs:[],validatorDo:function(t){var e,n,i,r=t.value,a=(t&&t.getAttribute("validator")||"").split(","),o=a.shift(),s=this.validators[o];return s?(a.unshift(r),n=s.apply(t,a),n.valid&&t.value!=n.value&&(t.value=n.value,"createEvent"in document?(i=document.createEvent("HTMLEvents"),i.initEvent("input",!1,!0),t.dispatchEvent(i)):t.fireEvent("oninput")),e=t&&t.getAttribute("validator-message")||n.message||"Invalid value: "+o,this.validatorCreateDiv(t,e,n.valid),n.valid):console.warn("no validator found: %s",o)},validatorCreateDiv:function(t,e,n){var a,l,c,u=t._validatorError;if(u)return u.set("valid",n),void u.set("message",e);c=r(t,s),a=c.parent&&document.querySelector(c.parent)||t.parentElement||document.body,"append"==c.insertMode?(l=document.createElement("div"),l.classList.add("rv-parent-append"),a.parentNode.insertBefore(l,a.nextSibling)):l=a,u=t._validatorError=new o({el:l,data:{name:i(),element:t,valid:n,message:e,parent:this,orientation:c.orientation,styleMode:c.styleMode,options:c}}),this.validatorDivs.push(u)},validatorDefaultOptions:function(t){function e(t,e){s[t]&&"_default"in s[t]?s[t]._default=e:s[t]=e}return n(t||{},function(t,n){n="_"+n,s[n]&&s[n]&&s[n].options?~s[n].options.indexOf(t)&&e(n,t):e(n,t)}),s}}),t.prototype=a.prototype}),n("lib/main")})}();